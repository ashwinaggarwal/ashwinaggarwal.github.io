var mysiteapp=angular.module("mysite",["ngRoute","ngAnimate"]);mysiteapp.config(["$routeProvider","$provide","$httpProvider",function($routeProvider,$provide,$httpProvider){$routeProvider.when("/",{templateUrl:"views/profile.html",controller:"profile"}).when("/skills",{templateUrl:"views/skills.html",controller:"skills"}).when("/resume",{templateUrl:"views/resume.html",controller:"resume"}).when("/contact",{templateUrl:"views/contact.html",controller:"contact"}).otherwise({redirectTo:"/"}),$httpProvider.interceptors.push(function(){return{request:function(config){var url="../"+config.url;return config.url=url,config}}})}]),angular.module("mysite").factory("PostEmail",["$q","$http",function($q){var Post=function(msg){var d=$q.defer();return jQuery.ajax({type:"POST",url:"https://mandrillapp.com/api/1.0/messages/send.json",data:{key:"Te5iFbky9JzqmpMtjj3W0g",message:{text:msg.message,subject:msg.subject,from_email:msg.sender.email,from_name:msg.sender.name,to:[{email:"ashwinaggarwal7@gmail.com",name:"Ashwin Aggarwal",type:"to"}],headers:{"Reply-To":msg.sender.email}}}}).success(function(data){d.resolve(data)}).error(function(reason){d.reject(reason)}),d.promise};return{post:Post}}]).directive("toggleDropDowns",["$document","$window",function($document){return{restrict:"C",link:function(scope,element){$document.on("click",function(){element.hasClass("show")&&(element.addClass("hide"),element.removeClass("show"))})}}}]).controller("about",function(){}).controller("skills",function(){}).controller("resume",function(){}).controller("contact",function($scope,PostEmail){function toggle(element){element.hasClass("hide")?(element.removeClass("hide"),element.addClass("show")):(element.removeClass("show"),element.addClass("hide"))}$scope.msg={},$scope.msg.subject="Message from ashwinaggarwal.github.io",$scope.toggleList=function(){toggle($("ul.options"))},$scope.updateTrigger=function(value){$('#subject option[value ="'+value+'"]').prop("selected","selected"),$(".trigger").text(value),$scope.msg.subject=value},$scope.sendmail=function(){var $submitBtn=jQuery("button.btnSend"),$contentDiv=$submitBtn.find(".content"),$loader=$submitBtn.find(".submitLoader");$contentDiv.addClass("hide"),$loader.addClass("show");var promise=PostEmail.post($scope.msg);promise.then(function(){$contentDiv.removeClass("hide").text("Message Sent"),$loader.removeClass("show")},function(){$contentDiv.removeClass("hide").text("Error! Try Again."),$loader.removeClass("show")})}}),angular.module("mysite").controller("profile",function($scope){function toggle($container,$button){$container.hasClass("collapsed")?($container.removeClass("collapsed").slideDown(800),$button.text("hide timleine"),$("html,body").animate({scrollTop:"510px"},1e3,"swing",function(){$(".tWrapper:eq(1) .perspectiveTile.right").hover()})):($container.addClass("collapsed").slideUp(800),$button.text("show timleine"))}$scope.toggleTimeLine=function(con,btn){toggle(jQuery("."+con),jQuery("#"+btn))}});